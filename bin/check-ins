#!/bin/bash

function create_session() {
  cd "$PROJECTS/check-ins"
  tmux start-server

  tmux new-session -d -s check-ins -n code
  tmux new-window -d -t check-ins -n logs

  # tmux send-keys -t check-ins:code.0 'vim' C-m
  tmux send-keys -t check-ins:logs.0 'tail -f log/development.log' C-m

  return 0
}

function attach_or_create_and_attach() {
  if tmux attach-session -t check-ins 2> /dev/null
  then
    return 0
  else
    create_session && tmux attach-session -t check-ins
  fi
}

attach_or_create_and_attach
