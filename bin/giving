#!/bin/bash

function create_session() {
  cd "$PROJECTS/giving"
  tmux start-server

  tmux new-session -d -s giving -n code
  tmux new-window -d -t giving -n logs

  # tmux send-keys -t giving:code.0 'vim' C-m
  tmux send-keys -t giving:logs.0 'tail -f log/development.log' C-m

  return 0
}

function attach_or_create_and_attach() {
  if tmux attach-session -t giving 2> /dev/null
  then
    return 0
  else
    create_session && tmux attach-session -t giving
  fi
}

attach_or_create_and_attach
