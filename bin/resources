#!/bin/bash

function create_session() {
  cd "$PROJECTS/resources"
  tmux start-server

  tmux new-session -d -s resources -n code
  tmux new-window -d -t resources -n logs

  # tmux send-keys -t resources:code.0 'vim' C-m
  tmux send-keys -t resources:logs.0 'tail -f log/development.log' C-m

  return 0
}

function attach_or_create_and_attach() {
  if tmux attach-session -t resources 2> /dev/null
  then
    return 0
  else
    create_session && tmux attach-session -t resources
  fi
}

attach_or_create_and_attach
